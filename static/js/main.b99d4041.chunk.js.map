{"version":3,"sources":["Todo.js","TodoList.js","Header.js","filters.js","Filter.js","TodosFilter.js","Footer.js","App.js","index.js"],"names":["Todo","state","newTitle","edit","activateEditing","setState","props","todo","title","handlerChange","target","value","trimLeft","replace","completeEdit","escapeEditing","e","keyCode","this","id","completed","changeTodoStatus","deleteTodo","editTodo","className","cn","editing","onChange","onBlur","onKeyDown","autoFocus","type","checked","onDoubleClick","onClick","React","Component","TodoList","selectAllButton","markAllTodo","todos","length","htmlFor","map","key","Header","handleInput","event","sumbmitForm","addTodo","preventDefault","reset","prev","onSubmit","placeholder","FILTERS","all","active","Filter","filter","changeVisibleList","currentFilter","href","selected","TodosFilter","clearCompletedTodo","hideClearButton","Object","values","Footer","todosList","App","newTodo","todoId","checkCompletedAll","list","every","filterName","getFilteredTodos","some","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b99d4041.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport cn from 'classnames';\n\nclass Todo extends React.Component {\n  state = {\n    newTitle: '',\n    edit: false,\n  }\n\n  activateEditing =() => {\n    this.setState(state => ({\n      newTitle: this.props.todo.title,\n      edit: !state.edit,\n    }));\n  }\n\n  handlerChange =({ target }) => {\n    this.setState({\n      newTitle: target.value.trimLeft().replace(/(\\s{2,})/, ' '),\n    });\n  }\n\n  completeEdit = () => {\n    this.setState(state => ({\n      edit: false,\n    }));\n  }\n\n  escapeEditing = (e) => {\n    if (e.keyCode === 13 || e.keyCode === 27) {\n      this.setState({\n        edit: false,\n      });\n    }\n  }\n\n  render() {\n    const { todo: { id, completed, title },\n      changeTodoStatus,\n      deleteTodo,\n      editTodo } = this.props;\n\n    const { newTitle, edit } = this.state;\n\n    return (\n      <li\n        className={cn({\n          editing: edit, completed,\n        })}\n      >\n        {edit\n          ? (\n            <>\n              <input\n                onChange={this.handlerChange}\n                onBlur={this.completeEdit}\n                className=\"edit\"\n                value={newTitle}\n                onKeyDown={e => editTodo(e, id, newTitle, this.escapeEditing)}\n                // лінтер свариться на autoFocus;\n                // eslint-disable-next-line jsx-a11y/no-autofocus\n                autoFocus\n              />\n            </>\n          )\n\n          : (\n            <div className=\"view\">\n              <input\n                onChange={() => changeTodoStatus(id)}\n                type=\"checkbox\"\n                className=\"toggle\"\n                id={id}\n                checked={completed}\n              />\n              <label\n                onDoubleClick={this.activateEditing}\n              >\n                {title}\n              </label>\n              <button\n                onClick={() => deleteTodo(id)}\n                type=\"button\"\n                className=\"destroy\"\n              />\n            </div>\n          )}\n      </li>\n    );\n  }\n}\n\nexport default Todo;\n\nTodo.propTypes = {\n  todo: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n    completed: PropTypes.bool.isRequired,\n  }).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  changeTodoStatus: PropTypes.func.isRequired,\n  editTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Todo from './Todo';\n\nconst TodoList = (props) => {\n  const { selectAllButton,\n    markAllTodo,\n    todos,\n    deleteTodo,\n    editTodo,\n    changeTodoStatus }\n    = props;\n\n  return (\n    <>\n      {todos.length > 0 && (\n        <form>\n          <input\n            type=\"checkbox\"\n            id=\"toggle-all\"\n            className=\"toggle-all\"\n            onChange={() => markAllTodo()}\n            checked={selectAllButton}\n          />\n          <label\n            htmlFor=\"toggle-all\"\n          >\n            Mark all as complete\n          </label>\n        </form>\n      )}\n\n      <ul className=\"todo-list\">\n        {todos.map(todo => (\n          <Todo\n            key={todo.id}\n            todo={todo}\n            deleteTodo={deleteTodo}\n            changeTodoStatus={changeTodoStatus}\n            editTodo={editTodo}\n          />\n        ))\n        }\n      </ul>\n    </>\n  );\n};\n\nexport default TodoList;\n\nTodoList.propTypes = {\n  todos: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    completed: PropTypes.bool.isRequired,\n  })).isRequired,\n  deleteTodo: PropTypes.func.isRequired,\n  changeTodoStatus: PropTypes.func.isRequired,\n  markAllTodo: PropTypes.func.isRequired,\n  selectAllButton: PropTypes.bool.isRequired,\n  editTodo: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Header extends React.Component {\n  state= {\n    id: 1,\n    title: '',\n    completed: '',\n  }\n\n  handleInput = (event) => {\n    const { value } = event.target;\n\n    this.setState({\n      title: value.trimLeft().replace(/(\\s{2,})/, ' '),\n      completed: false,\n    });\n  }\n\n  sumbmitForm = (event) => {\n    const { addTodo } = this.props;\n    const { id, title, completed } = this.state;\n\n    event.preventDefault();\n    if (this.state.title === '') {\n      return;\n    }\n\n    addTodo({\n      id,\n      title,\n      completed,\n    });\n    this.reset();\n  }\n\n  reset = () => {\n    this.setState(prev => ({\n      title: '',\n      completed: false,\n      id: prev.id + 1,\n    }));\n  }\n\n  render() {\n    return (\n      <header className=\"header\">\n        <h1>todos</h1>\n        <form onSubmit={this.sumbmitForm}>\n          <input\n            onChange={this.handleInput}\n            className=\"new-todo\"\n            placeholder=\"What needs to be done?\"\n            value={this.state.title}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Header;\n\nHeader.propTypes = {\n  addTodo: PropTypes.func.isRequired,\n};\n","export const FILTERS = {\n  all: 'All',\n  active: 'Active',\n  completed: 'Completed',\n};\n","import React from 'react';\nimport cn from 'classnames';\nimport PropTypes from 'prop-types';\n\nconst Filter = (props) => {\n  const {\n    filter,\n    changeVisibleList,\n    currentFilter,\n  } = props;\n\n  return (\n    <a\n      href={`#/${filter}`}\n      className={cn({\n        selected: currentFilter === filter,\n      })}\n      onClick={() => changeVisibleList(filter)}\n    >\n      {filter}\n    </a>\n  );\n};\n\nexport default Filter;\n\nFilter.propTypes = {\n  filter: PropTypes.string.isRequired,\n  changeVisibleList: PropTypes.func.isRequired,\n  currentFilter: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FILTERS } from './filters';\nimport Filter from './Filter';\n\nconst TodosFilter = (props) => {\n  const { changeVisibleList,\n    clearCompletedTodo,\n    currentFilter,\n    hideClearButton }\n    = props;\n\n  return (\n\n    <>\n      <ul className=\"filters\">\n        {Object.values(FILTERS).map(filter => (\n          <li key={filter}>\n            <Filter\n              filter={filter}\n              changeVisibleList={changeVisibleList}\n              currentFilter={currentFilter}\n            />\n          </li>\n        ))}\n\n      </ul>\n      {hideClearButton && (\n        <button\n          type=\"button\"\n          className=\"clear-completed\"\n          onClick={() => clearCompletedTodo()}\n        >\n          Clear completed\n        </button>\n      )}\n\n    </>\n  );\n};\n\nexport default TodosFilter;\n\nTodosFilter.propTypes = {\n  changeVisibleList: PropTypes.func.isRequired,\n  clearCompletedTodo: PropTypes.func.isRequired,\n  currentFilter: PropTypes.string.isRequired,\n  hideClearButton: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TodosFilter from './TodosFilter';\n\nconst Footer = (props) => {\n  const { todosList,\n    clearCompletedTodo,\n    changeVisibleList,\n    currentFilter,\n    hideClearButton }\n    = props;\n\n  return (\n    <>\n      <footer className=\"footer\">\n        <span className=\"todo-count\">\n          {`${todosList.filter(todo => !todo.completed).length} items left`}\n\n        </span>\n        <TodosFilter\n          currentFilter={currentFilter}\n          changeVisibleList={changeVisibleList}\n          clearCompletedTodo={clearCompletedTodo}\n          hideClearButton={hideClearButton}\n        />\n      </footer>\n\n    </>\n  );\n};\n\nexport default Footer;\n\nFooter.propTypes = {\n  todosList: PropTypes.arrayOf(PropTypes.object).isRequired,\n  changeVisibleList: PropTypes.func.isRequired,\n  clearCompletedTodo: PropTypes.func.isRequired,\n  currentFilter: PropTypes.string.isRequired,\n  hideClearButton: PropTypes.bool.isRequired,\n};\n","import React from 'react';\nimport TodoList from './TodoList';\nimport Header from './Header';\nimport { FILTERS } from './filters';\nimport Footer from './Footer';\n\nclass App extends React.Component {\n  state= {\n    todosList: [],\n    currentFilter: FILTERS.all,\n  }\n\n  addTodo = (newTodo) => {\n    this.setState(({ todosList }) => (\n      { todosList: [...todosList, newTodo] }\n    ));\n  }\n\n  editTodo = (target, todoId, newTitle, escapeEditing) => {\n    if (target.keyCode === 13) {\n      this.setState(({ todosList }) => ({\n        todosList: todosList.map((todo) => {\n          if (todo.id === todoId) {\n            return {\n              ...todo, title: newTitle,\n            };\n          }\n\n          return todo;\n        }),\n      }));\n\n      if (newTitle === '') {\n        return;\n      }\n    }\n\n    escapeEditing(target);\n  }\n\n  deleteTodo = (todoId) => {\n    this.setState(({ todosList }) => ({\n      todosList: todosList.filter(({ id }) => id !== todoId),\n    }));\n  }\n\n  checkCompletedAll = list => list.every(todo => todo.completed === true)\n\n  markAllTodo = () => {\n    this.setState(({ todosList }) => ({\n      todosList: todosList.map((todo) => {\n        if (!this.checkCompletedAll(todosList)) {\n          return {\n            ...todo,\n            completed: true,\n          };\n        }\n\n        return {\n          ...todo,\n          completed: false,\n        };\n      }),\n    }));\n  }\n\n  clearCompletedTodo = () => {\n    this.setState(({ todosList }) => ({\n      todosList: todosList.filter(({ completed }) => !completed),\n    }));\n  }\n\n  changeTodoStatus = (todoId) => {\n    this.setState(({ todosList }) => ({\n      todosList: todosList.map((todo) => {\n        if (todo.id !== todoId) {\n          return todo;\n        }\n\n        return {\n          ...todo,\n          completed: !todo.completed,\n        };\n      }),\n    }));\n  }\n\n  changeVisibleList = (filterName) => {\n    this.setState({\n      currentFilter: filterName,\n    });\n  }\n\n  getFilteredTodos = (filter, todosList) => {\n    if (filter === FILTERS.active) {\n      return todosList.filter(todo => !todo.completed);\n    }\n\n    if (filter === FILTERS.completed) {\n      return todosList.filter(todo => todo.completed);\n    }\n\n    return todosList;\n  }\n\n  selectAllButton = (todosList) => {\n    if (this.checkCompletedAll(todosList) && todosList.length > 0) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { todosList, currentFilter } = this.state;\n\n    const hideClearButton = todosList.some(todo => todo.completed === true);\n\n    return (\n      <section className=\"todoapp\">\n        <Header addTodo={this.addTodo} />\n\n        <section className=\"main\">\n\n          <TodoList\n            todos={this.getFilteredTodos(currentFilter, todosList)}\n            deleteTodo={this.deleteTodo}\n            editTodo={this.editTodo}\n            changeTodoStatus={this.changeTodoStatus}\n            markAllTodo={this.markAllTodo}\n            selectAllButton={this.selectAllButton(todosList)}\n          />\n        </section>\n        {todosList.length > 0 && (\n          <Footer\n            todosList={todosList}\n            hideClearButton={hideClearButton}\n            currentFilter={currentFilter}\n            changeVisibleList={this.changeVisibleList}\n            clearCompletedTodo={this.clearCompletedTodo}\n          />\n        )}\n\n      </section>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './base.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}